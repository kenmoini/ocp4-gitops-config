- op: add
  path: /spec/resourceHealthChecks/-
  value:
    group: external-secrets.io
    kind: ExternalSecret
    check: |
      hs = {}
      if obj.status ~= nil and obj.status.conditions ~= nil then
          for i, condition in ipairs(obj.status.conditions) do
            if condition.status == "True" and condition.reason == "SecretSynced" and condition.type == "Ready" then
                hs.status = "Healthy"
                hs.message = "ExternalSecret synced successfully"
                return hs
            end
          end
      end
      hs.status = "Progressing"
      hs.message = "Waiting for ExternalSecret to sync..."
      return hs
